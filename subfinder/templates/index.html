<!DOCTYPE html>
<html lang="en" ng-app="sub-finder">
<head>
    <meta charset="UTF-8">
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"
          integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <link rel="stylesheet" href="../static/css/custom.css">
    <title>SubFinder</title>
</head>
<body ng-controller="FilesController">

<div class="container">
    <div class="panel panel-default">
        <div class="panel-heading"><strong>Select Files</strong></div>
        <div class="panel-body">

            <!-- Standar Form -->
            <h4>Select files from your computer</h4>

            <span class="btn btn-default btn-file">
                <i class="glyphicon glyphicon-upload"></i>
                Browse <input type="file" accept="video/mp4,video/*" id="input-file" multiple>
            </span>

            <!-- Drop Zone -->
            <h4>Or drag and drop files below</h4>

            <div class="upload-drop-zone" id="drop-zone">
                Just drag and drop files here
            </div>

            <!-- Progress Bar -->
            <div class="progress">
                <div id="progress-bar" class="progress-bar progress-bar-success progress-bar-striped active"
                     role="progressbar" aria-valuenow="0" aria-valuemin="0"
                     aria-valuemax="100">
                    <span id="progress-bar-span" class="sr-only">0% Complete</span>
                </div>
            </div>

            <!-- Upload Finished -->
            <div class="js-upload-finished">
                <h3>Files added</h3>
                <ul id="files" class="list-group">

                    <li class="list-group-item" id="list-item" style="overflow: visible;" ng-repeat="result in files">
                        <span class="media-left">
                            <img class="media-object" style="height: 250px; width: 180px; padding: 2px;"
                                 ng-src="{{ result.data[0][0]['Poster'] }}">
                        </span>

                        <div class="media-body" style="overflow: visible;">
                            <div class="pull-right">
                                <span class="label label-info" ng-if="result.data[0][0]['MovieKind']=='episode'">TV Series</span>
                                <span class="label label-info" ng-if="result.data[0][0]['MovieKind']=='movie'">Movie</span>
                                <span class="label label-info">{{ result.data[0][0]['Runtime'] }}</span>
                                <span ng-repeat="genre in result.data[0][0]['Genre'] | split:', '"><span class="label label-info">{{ genre }}</span> </span>
                            </div>
                            <div class="list-group-item-heading">
                                <h4>{{ result.file }}</h4>
                                <h4>{{ result.data[0][0]['Title'] }}
                                    <small>{{ result.data[0][0]['Year'] }}</small>
                                </h4>
                            </div>

                            <p class="list-group-item-text">{{ result.data[0][0]['Plot'] }}</p>
                            <b>Cast: </b> {{ result.data[0][0]['Actors'] }} <br>
                            <!-- Split button -->
                            <div class="pull-right btn-group">
                                <a href="{{ result.data[0][0]['SubDownload'][0] }}" type="button"
                                   class="btn btn-success">Download</a>
                                <button type="button" class="btn btn-success dropdown-toggle" data-toggle="dropdown"
                                        aria-haspopup="true" aria-expanded="false"
                                        ng-if="result.data[0][0]['SubDownload'].length > 1">
                                    <span class="caret"></span>
                                    <span class="sr-only">Toggle Dropdown</span>
                                </button>
                                <ul class="dropdown-menu" ng-if="result.data[0][0]['SubDownload'].length > 1">
                                    <li ng-repeat="subtitles in result.data[0][0]['SubDownload']">
                                        <a ng-if="!$first" target="_blank" href="{{ subtitles }}">Subtitle
                                            #{{ $index+1 }}</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <!-- /container -->

    <!-- Latest compiled and minified JavaScript -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"
            integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS"
            crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.9/angular.min.js"></script>
    <script src="../static/js/custom.js"></script>
</body>
</html>